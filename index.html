<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Underground Studio - Console Admin Pro</title>
    <link href="https://fonts.googleapis.com/css2?family=VT323&display=swap" rel="stylesheet">
</head>
<body style="margin: 0; padding: 0; font-family: 'VT323', 'Courier New', monospace; background-color: #0a0a0a; color: #00ff00; overflow-x: hidden;">

    <div class="dashboard-container" style="display: flex; min-height: 100vh;">
        <aside class="sidebar" style="width: 250px; background-color: #1a1a1a; padding: 20px; box-shadow: 2px 0 10px rgba(0, 255, 0, 0.2); display: flex; flex-direction: column; align-items: center;">
            <div class="logo" style="font-size: 1.8em; font-weight: bold; color: #00cc00; margin-bottom: 30px; text-shadow: 0 0 5px #00cc00;">Underground Studio</div>
            <nav class="main-nav" style="width: 100%;">
                <ul style="list-style: none; padding: 0;">
                    <li style="margin-bottom: 15px;"><a href="#generator-section" style="display: block; padding: 10px 15px; color: #00ff00; text-decoration: none; border: 1px solid #00cc00; border-radius: 5px; text-align: center; background-color: #1a1a1a;">Générateur IA</a></li>
                    <li style="margin-bottom: 15px;"><a href="#archive-section" style="display: block; padding: 10px 15px; color: #00ff00; text-decoration: none; border: 1px solid #00cc00; border-radius: 5px; text-align: center; background-color: #1a1a1a;">Archive Musique</a></li>
                    <li style="margin-bottom: 15px;"><a href="#metrics-section" style="display: block; padding: 10px 15px; color: #00ff00; text-decoration: none; border: 1px solid #00cc00; border-radius: 5px; text-align: center; background-color: #1a1a1a;">Statistiques API</a></li>
                    <li style="margin-bottom: 15px;"><a href="#console-section" style="display: block; padding: 10px 15px; color: #00ff00; text-decoration: none; border: 1px solid #00cc00; border-radius: 5px; text-align: center; background-color: #1a1a1a;">Console Matrix</a></li>
                </ul>
            </nav>
        </aside>

        <main class="main-content" style="flex-grow: 1; padding: 20px; display: flex; flex-direction: column;">
            <header class="top-header" style="background-color: #2a2a2a; padding: 15px 20px; margin-bottom: 20px; border-bottom: 2px solid #00cc00; display: flex; justify-content: space-between; align-items: center; box-shadow: 0 2px 10px rgba(0, 255, 0, 0.1);">
                <h1 style="margin: 0; font-size: 1.8em; color: #00ff00;">Tableau de Bord Admin</h1>
                <div class="user-info" style="display: flex; align-items: center; gap: 15px;">
                    <span id="credits-display" style="font-size: 1.1em; color: #00cc00;">Crédits: Chargement...</span>
                    <button onclick="getRemainingCredits()" style="background-color: #00cc00; color: #0a0a0a; border: 1px solid #00cc00; padding: 10px 20px; cursor: pointer; font-family: 'VT323', monospace; font-size: 1.1em; text-transform: uppercase; box-shadow: 0 0 8px #00cc00;">Rafraîchir Crédits</button>
                </div>
            </header>

            <section id="generator-section" class="content-section" style="background-color: #1a1a1a; padding: 25px; margin-bottom: 20px; border: 1px solid #00cc00; border-radius: 8px; box-shadow: 0 0 15px rgba(0, 255, 0, 0.15);">
                <h2 style="color: #00cc00; margin-top: 0; margin-bottom: 20px; border-bottom: 1px dashed #00cc00; padding-bottom: 10px;">Générateur Musical IA</h2>
                <div class="form-group" style="margin-bottom: 15px;">
                    <label for="prompt" style="display: block; margin-bottom: 5px; color: #00ff00; font-size: 1.1em;">Prompt / Paroles:</label>
                    <textarea id="prompt" placeholder="Décrivez votre musique (ex: 'reggae dub King tubby dela tape invasion') ou collez vos paroles." style="width: calc(100% - 22px); padding: 10px; background-color: #0a0a0a; border: 1px solid #00cc00; color: #00ff00; font-family: 'VT323', monospace; font-size: 1em; box-shadow: inset 0 0 5px rgba(0, 255, 0, 0.3); min-height: 80px; resize: vertical;"></textarea>
                </div>
                <div class="form-group" style="margin-bottom: 15px;">
                    <label for="style" style="display: block; margin-bottom: 5px; color: #00ff00; font-size: 1.1em;">Style (Mode Personnalisé):</label>
                    <input type="text" id="style" placeholder="Ex: 'Classical', 'Electronic'" style="width: calc(100% - 22px); padding: 10px; background-color: #0a0a0a; border: 1px solid #00cc00; color: #00ff00; font-family: 'VT323', monospace; font-size: 1em; box-shadow: inset 0 0 5px rgba(0, 255, 0, 0.3);">
                </div>
                <div class="form-group" style="margin-bottom: 15px;">
                    <label for="title" style="display: block; margin-bottom: 5px; color: #00ff00; font-size: 1.1em;">Titre (Mode Personnalisé):</label>
                    <input type="text" id="title" placeholder="Ex: 'Peaceful Piano Meditation'" style="width: calc(100% - 22px); padding: 10px; background-color: #0a0a0a; border: 1px solid #00cc00; color: #00ff00; font-family: 'VT323', monospace; font-size: 1em; box-shadow: inset 0 0 5px rgba(0, 255, 0, 0.3);">
                </div>
                <div class="form-group checkbox-group" style="display: flex; align-items: center; margin-bottom: 15px;">
                    <input type="checkbox" id="customMode" style="margin-right: 10px; width: 20px; height: 20px; accent-color: #00cc00;">
                    <label for="customMode" style="color: #00ff00; font-size: 1.1em; margin-bottom: 0;">Mode Personnalisé</label>
                </div>
                <div class="form-group checkbox-group" style="display: flex; align-items: center; margin-bottom: 15px;">
                    <input type="checkbox" id="instrumental" style="margin-right: 10px; width: 20px; height: 20px; accent-color: #00cc00;">
                    <label for="instrumental" style="color: #00ff00; font-size: 1.1em; margin-bottom: 0;">Instrumental</label>
                </div>
                <div class="form-group" style="margin-bottom: 15px;">
                    <label for="model" style="display: block; margin-bottom: 5px; color: #00ff00; font-size: 1.1em;">Modèle IA:</label>
                    <select id="model" style="width: calc(100% - 22px); padding: 10px; background-color: #0a0a0a; border: 1px solid #00cc00; color: #00ff00; font-family: 'VT323', monospace; font-size: 1em; box-shadow: inset 0 0 5px rgba(0, 255, 0, 0.3);">
                        <option value="V3_5">V3_5 (Standard)</option>
                        <option value="V4">V4 (Qualité supérieure)</option>
                        <option value="V4_5">V4_5 (Avancé, jusqu'à 8 min)</option>
                    </select>
                </div>
                <div class="form-group" style="margin-bottom: 15px;">
                    <label for="negativeTags" style="display: block; margin-bottom: 5px; color: #00ff00; font-size: 1.1em;">Tags Négatifs (Optionnel):</label>
                    <input type="text" id="negativeTags" placeholder="Ex: 'Heavy Metal, Upbeat Drums'" style="width: calc(100% - 22px); padding: 10px; background-color: #0a0a0a; border: 1px solid #00cc00; color: #00ff00; font-family: 'VT323', monospace; font-size: 1em; box-shadow: inset 0 0 5px rgba(0, 255, 0, 0.3);">
                </div>
                <button onclick="generateMusic()" style="background-color: #00cc00; color: #0a0a0a; border: 1px solid #00cc00; padding: 10px 20px; cursor: pointer; font-family: 'VT323', monospace; font-size: 1.1em; text-transform: uppercase; box-shadow: 0 0 8px #00cc00; margin-right: 10px; margin-top: 10px;">Générer Musique</button>
                <button onclick="generateLyrics()" style="background-color: #00cc00; color: #0a0a0a; border: 1px solid #00cc00; padding: 10px 20px; cursor: pointer; font-family: 'VT323', monospace; font-size: 1.1em; text-transform: uppercase; box-shadow: 0 0 8px #00cc00; margin-right: 10px; margin-top: 10px;">Générer Paroles</button>
                
                <div id="genResult" class="music-players" style="margin-top: 20px; border-top: 1px dashed #00cc00; padding-top: 20px;">
                    <h3 style="color: #00ff00;">Musiques Générées:</h3>
                    <div class="music-track" style="margin-bottom: 15px; padding: 10px; border: 1px solid rgba(0, 255, 0, 0.2); border-radius: 5px; background-color: rgba(0, 255, 0, 0.05);">
                        <audio controls id="audio1" style="width: 100%; margin-bottom: 10px; filter: sepia(100%) saturate(200%) hue-rotate(90deg) brightness(70%) contrast(150%);"></audio>
                        <a id="download1" href="" download class="download-link" style="color: #00cc00; text-decoration: none; font-size: 0.9em; display: inline-block; margin-top: 5px; border: 1px dashed #00cc00; padding: 5px 10px;">Télécharger Musique 1</a>
                    </div>
                    <div class="music-track" style="margin-bottom: 15px; padding: 10px; border: 1px solid rgba(0, 255, 0, 0.2); border-radius: 5px; background-color: rgba(0, 255, 0, 0.05);">
                        <audio controls id="audio2" style="width: 100%; margin-bottom: 10px; filter: sepia(100%) saturate(200%) hue-rotate(90deg) brightness(70%) contrast(150%);"></audio>
                        <a id="download2" href="" download class="download-link" style="color: #00cc00; text-decoration: none; font-size: 0.9em; display: inline-block; margin-top: 5px; border: 1px dashed #00cc00; padding: 5px 10px;">Télécharger Musique 2</a>
                    </div>
                </div>
            </section>

            <section id="base44-section" class="content-section" style="background-color: #1a1a1a; padding: 25px; margin-bottom: 20px; border: 1px solid #00cc00; border-radius: 8px; box-shadow: 0 0 15px rgba(0, 255, 0, 0.15);">
                <h2 style="color: #00cc00; margin-top: 0; margin-bottom: 20px; border-bottom: 1px dashed #00cc00; padding-bottom: 10px;">Récupérer & Archiver de Base44</h2>
                <div class="form-group" style="margin-bottom: 15px;">
                    <label for="base44TrackId" style="display: block; margin-bottom: 5px; color: #00ff00; font-size: 1.1em;">ID de Piste Base44:</label>
                    <input type="text" id="base44TrackId" value="44" placeholder="Track ID (ex. 44)" style="width: calc(100% - 22px); padding: 10px; background-color: #0a0a0a; border: 1px solid #00cc00; color: #00ff00; font-family: 'VT323', monospace; font-size: 1em; box-shadow: inset 0 0 5px rgba(0, 255, 0, 0.3);">
                </div>
                <button onclick="retrieveAndArchiveBase44()" style="background-color: #00cc00; color: #0a0a0a; border: 1px solid #00cc00; padding: 10px 20px; cursor: pointer; font-family: 'VT323', monospace; font-size: 1.1em; text-transform: uppercase; box-shadow: 0 0 8px #00cc00; margin-right: 10px; margin-top: 10px;">Récupérer & Archiver</button>
            </section>

            <section id="archive-section" class="content-section" style="background-color: #1a1a1a; padding: 25px; margin-bottom: 20px; border: 1px solid #00cc00; border-radius: 8px; box-shadow: 0 0 15px rgba(0, 255, 0, 0.15);">
                <h2 style="color: #00cc00; margin-top: 0; margin-bottom: 20px; border-bottom: 1px dashed #00cc00; padding-bottom: 10px;">Archive Musicale</h2>
                <div class="archive-controls" style="display: flex; gap: 10px; margin-bottom: 20px;">
                    <input type="text" id="archiveSearch" placeholder="Rechercher dans l'archive..." style="flex-grow: 1; width: calc(100% - 22px); padding: 10px; background-color: #0a0a0a; border: 1px solid #00cc00; color: #00ff00; font-family: 'VT323', monospace; font-size: 1em; box-shadow: inset 0 0 5px rgba(0, 255, 0, 0.3);">
                    <button onclick="searchArchive()" style="background-color: #00cc00; color: #0a0a0a; border: 1px solid #00cc00; padding: 10px 20px; cursor: pointer; font-family: 'VT323', monospace; font-size: 1.1em; text-transform: uppercase; box-shadow: 0 0 8px #00cc00; margin-right: 10px; margin-top: 10px;">Rechercher</button>
                    <button onclick="clearArchive()" style="background-color: #ff0000; color: #0a0a0a; border: 1px solid #ff0000; padding: 10px 20px; cursor: pointer; font-family: 'VT323', monospace; font-size: 1.1em; text-transform: uppercase; box-shadow: 0 0 8px #ff0000; margin-right: 10px; margin-top: 10px;">Effacer Archive</button>
                </div>
                <div id="archiveDisplay" class="archive-list" style="max-height: 400px; overflow-y: auto; border: 1px solid #00cc00; padding: 10px; background-color: #0a0a0a; box-shadow: inset 0 0 5px rgba(0, 255, 0, 0.3);">
                    </div>
            </section>

            <section id="metrics-section" class="content-section" style="background-color: #1a1a1a; padding: 25px; margin-bottom: 20px; border: 1px solid #00cc00; border-radius: 8px; box-shadow: 0 0 15px rgba(0, 255, 0, 0.15);">
                <h2 style="color: #00cc00; margin-top: 0; margin-bottom: 20px; border-bottom: 1px dashed #00cc00; padding-bottom: 10px;">Statistiques API</h2>
                <div class="metrics-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px;">
                    <div class="metric-card" style="background-color: #0a0a0a; border: 1px solid #00cc00; border-radius: 8px; padding: 15px; text-align: center; box-shadow: 0 0 10px rgba(0, 255, 0, 0.2);">
                        <h3 style="color: #00cc00; margin-top: 0; font-size: 1.2em;">Crédits Restants</h3>
                        <p id="metric-credits" style="font-size: 2em; font-weight: bold; color: #00ff00; text-shadow: 0 0 5px #00ff00;">N/A</p>
                    </div>
                    <div class="metric-card" style="background-color: #0a0a0a; border: 1px solid #00cc00; border-radius: 8px; padding: 15px; text-align: center; box-shadow: 0 0 10px rgba(0, 255, 0, 0.2);">
                        <h3 style="color: #00cc00; margin-top: 0; font-size: 1.2em;">Tâches Réussies</h3>
                        <p id="metric-success-tasks" style="font-size: 2em; font-weight: bold; color: #00ff00; text-shadow: 0 0 5px #00ff00;">0</p>
                    </div>
                    <div class="metric-card" style="background-color: #0a0a0a; border: 1px solid #00cc00; border-radius: 8px; padding: 15px; text-align: center; box-shadow: 0 0 10px rgba(0, 255, 0, 0.2);">
                        <h3 style="color: #00cc00; margin-top: 0; font-size: 1.2em;">Tâches Échouées</h3>
                        <p id="metric-failed-tasks" style="font-size: 2em; font-weight: bold; color: #00ff00; text-shadow: 0 0 5px #00ff00;">0</p>
                    </div>
                    <div class="metric-card" style="background-color: #0a0a0a; border: 1px solid #00cc00; border-radius: 8px; padding: 15px; text-align: center; box-shadow: 0 0 10px rgba(0, 255, 0, 0.2);">
                        <h3 style="color: #00cc00; margin-top: 0; font-size: 1.2em;">Temps Moyen Génération</h3>
                        <p id="metric-avg-time" style="font-size: 2em; font-weight: bold; color: #00ff00; text-shadow: 0 0 5px #00ff00;">N/A</p>
                    </div>
                </div>
            </section>

            <section id="console-section" class="content-section" style="background-color: #1a1a1a; padding: 25px; margin-bottom: 20px; border: 1px solid #00cc00; border-radius: 8px; box-shadow: 0 0 15px rgba(0, 255, 0, 0.15);">
                <h2 style="color: #00cc00; margin-top: 0; margin-bottom: 20px; border-bottom: 1px dashed #00cc00; padding-bottom: 10px;">Console Matrix TV Vintage</h2>
                <div class="tv-frame" style="border: 10px solid #333; border-radius: 20px; box-shadow: 0 0 20px rgba(0, 255, 0, 0.5); background: #111; padding: 20px; width: calc(100% - 40px); margin: auto; position: relative; overflow: hidden;">
                    <div class="tv-screen" id="console" style="background-color: #000; border: 1px solid #00cc00; padding: 15px; height: 400px; overflow-y: scroll; font-size: 1em; box-shadow: inset 0 0 10px #00cc00; position: relative; color: #00ff00; text-shadow: 0 0 5px #00ff00;">
                        </div>
                </div>
            </section>
        </main>
    </div>

    <script src="script.js"></script>
</body>
</html>
